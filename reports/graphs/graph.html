<html>
    <head>
        <meta charset="utf-8">
        
            <script>function neighbourhoodHighlight(params) {
  // console.log("in nieghbourhoodhighlight");
  allNodes = nodes.get({ returnType: "Object" });
  // originalNodes = JSON.parse(JSON.stringify(allNodes));
  // if something is selected:
  if (params.nodes.length > 0) {
    highlightActive = true;
    var i, j;
    var selectedNode = params.nodes[0];
    var degrees = 2;

    // mark all nodes as hard to read.
    for (let nodeId in allNodes) {
      // nodeColors[nodeId] = allNodes[nodeId].color;
      allNodes[nodeId].color = "rgba(200,200,200,0.5)";
      if (allNodes[nodeId].hiddenLabel === undefined) {
        allNodes[nodeId].hiddenLabel = allNodes[nodeId].label;
        allNodes[nodeId].label = undefined;
      }
    }
    var connectedNodes = network.getConnectedNodes(selectedNode);
    var allConnectedNodes = [];

    // get the second degree nodes
    for (i = 1; i < degrees; i++) {
      for (j = 0; j < connectedNodes.length; j++) {
        allConnectedNodes = allConnectedNodes.concat(
          network.getConnectedNodes(connectedNodes[j])
        );
      }
    }

    // all second degree nodes get a different color and their label back
    for (i = 0; i < allConnectedNodes.length; i++) {
      // allNodes[allConnectedNodes[i]].color = "pink";
      allNodes[allConnectedNodes[i]].color = "rgba(150,150,150,0.75)";
      if (allNodes[allConnectedNodes[i]].hiddenLabel !== undefined) {
        allNodes[allConnectedNodes[i]].label =
          allNodes[allConnectedNodes[i]].hiddenLabel;
        allNodes[allConnectedNodes[i]].hiddenLabel = undefined;
      }
    }

    // all first degree nodes get their own color and their label back
    for (i = 0; i < connectedNodes.length; i++) {
      // allNodes[connectedNodes[i]].color = undefined;
      allNodes[connectedNodes[i]].color = nodeColors[connectedNodes[i]];
      if (allNodes[connectedNodes[i]].hiddenLabel !== undefined) {
        allNodes[connectedNodes[i]].label =
          allNodes[connectedNodes[i]].hiddenLabel;
        allNodes[connectedNodes[i]].hiddenLabel = undefined;
      }
    }

    // the main node gets its own color and its label back.
    // allNodes[selectedNode].color = undefined;
    allNodes[selectedNode].color = nodeColors[selectedNode];
    if (allNodes[selectedNode].hiddenLabel !== undefined) {
      allNodes[selectedNode].label = allNodes[selectedNode].hiddenLabel;
      allNodes[selectedNode].hiddenLabel = undefined;
    }
  } else if (highlightActive === true) {
    // console.log("highlightActive was true");
    // reset all nodes
    for (let nodeId in allNodes) {
      // allNodes[nodeId].color = "purple";
      allNodes[nodeId].color = nodeColors[nodeId];
      // delete allNodes[nodeId].color;
      if (allNodes[nodeId].hiddenLabel !== undefined) {
        allNodes[nodeId].label = allNodes[nodeId].hiddenLabel;
        allNodes[nodeId].hiddenLabel = undefined;
      }
    }
    highlightActive = false;
  }

  // transform the object into an array
  var updateArray = [];
  if (params.nodes.length > 0) {
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        // console.log(allNodes[nodeId]);
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  } else {
    // console.log("Nothing was selected");
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        // console.log(allNodes[nodeId]);
        // allNodes[nodeId].color = {};
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  }
}

function filterHighlight(params) {
  allNodes = nodes.get({ returnType: "Object" });
  // if something is selected:
  if (params.nodes.length > 0) {
    filterActive = true;
    let selectedNodes = params.nodes;

    // hiding all nodes and saving the label
    for (let nodeId in allNodes) {
      allNodes[nodeId].hidden = true;
      if (allNodes[nodeId].savedLabel === undefined) {
        allNodes[nodeId].savedLabel = allNodes[nodeId].label;
        allNodes[nodeId].label = undefined;
      }
    }

    for (let i=0; i < selectedNodes.length; i++) {
      allNodes[selectedNodes[i]].hidden = false;
      if (allNodes[selectedNodes[i]].savedLabel !== undefined) {
        allNodes[selectedNodes[i]].label = allNodes[selectedNodes[i]].savedLabel;
        allNodes[selectedNodes[i]].savedLabel = undefined;
      }
    }

  } else if (filterActive === true) {
    // reset all nodes
    for (let nodeId in allNodes) {
      allNodes[nodeId].hidden = false;
      if (allNodes[nodeId].savedLabel !== undefined) {
        allNodes[nodeId].label = allNodes[nodeId].savedLabel;
        allNodes[nodeId].savedLabel = undefined;
      }
    }
    filterActive = false;
  }

  // transform the object into an array
  var updateArray = [];
  if (params.nodes.length > 0) {
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  } else {
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  }
}

function selectNode(nodes) {
  network.selectNodes(nodes);
  neighbourhoodHighlight({ nodes: nodes });
  return nodes;
}

function selectNodes(nodes) {
  network.selectNodes(nodes);
  filterHighlight({nodes: nodes});
  return nodes;
}

function highlightFilter(filter) {
  let selectedNodes = []
  let selectedProp = filter['property']
  if (filter['item'] === 'node') {
    let allNodes = nodes.get({ returnType: "Object" });
    for (let nodeId in allNodes) {
      if (allNodes[nodeId][selectedProp] && filter['value'].includes((allNodes[nodeId][selectedProp]).toString())) {
        selectedNodes.push(nodeId)
      }
    }
  }
  else if (filter['item'] === 'edge'){
    let allEdges = edges.get({returnType: 'object'});
    // check if the selected property exists for selected edge and select the nodes connected to the edge
    for (let edge in allEdges) {
      if (allEdges[edge][selectedProp] && filter['value'].includes((allEdges[edge][selectedProp]).toString())) {
        selectedNodes.push(allEdges[edge]['from'])
        selectedNodes.push(allEdges[edge]['to'])
      }
    }
  }
  selectNodes(selectedNodes)
}</script>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/dist/vis-network.min.css" integrity="sha512-WgxfT5LWjfszlPHXRmBWHkV2eceiWTOBvrKCNbdgDYTHrT2AeLCGbF4sZlZw3UMN3WtL0tGUoIAKsu8mllg/XA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
            <script src="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/vis-network.min.js" integrity="sha512-LnvoEWDFrqGHlHmDD2101OrLcbsfkrzoSpvtSQtxK3RMnRV0eOkhhBN2dXHKRrUU8p2DGRTk35n4O8nWSVe1mQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            
            
            
            
            
            
                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tom-select/2.0.0-rc.4/css/tom-select.min.css" integrity="sha512-43fHB3GLgZfz8QXl1RPQ8O66oIgv3po9cJ5erMt1c4QISq9dYb195T3vr5ImnJPXuVroKcGBPXBFKETW8jrPNQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
                <script src="https://cdnjs.cloudflare.com/ajax/libs/tom-select/2.0.0-rc.4/js/tom-select.complete.js" integrity="sha512-jeF9CfnvzDiw9G9xiksVjxR2lib44Gnovvkv+3CgCG6NXCD4gqlA5nDAVW5WjpA+i+/zKsUWV5xNEbW1X/HH0Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            

        
<center>
<h1></h1>
</center>

<!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->
        <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
          crossorigin="anonymous"
        />
        <script
          src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
          crossorigin="anonymous"
        ></script>


        <center>
          <h1></h1>
        </center>
        <style type="text/css">

             #mynetwork {
                 width: 100%;
                 height: 900px;
                 background-color: #ffffff;
                 border: 1px solid lightgray;
                 position: relative;
                 float: left;
             }

             

             
             #config {
                 float: left;
                 width: 400px;
                 height: 600px;
             }
             

             
        </style>
    </head>


    <body>
        <div class="card" style="width: 100%">
            
                <div id="select-menu" class="card-header">
                    <div class="row no-gutters">
                        <div class="col-10 pb-2">
                            <select
                            class="form-select"
                            aria-label="Default select example"
                            onchange="selectNode([value]);"
                            id="select-node"
                            placeholder="Select node..."
                            >
                                <option selected>Select a Node by ID</option>
                                
                                    <option value="ability to draw foreign capital">ability to draw foreign capital</option>
                                
                                    <option value="growth">growth</option>
                                
                                    <option value="us trade deficit">us trade deficit</option>
                                
                                    <option value="afp">afp</option>
                                
                                    <option value="reuters">reuters</option>
                                
                                    <option value="tearaway world oil prices">tearaway world oil prices</option>
                                
                                    <option value="ak-47s">ak-47s</option>
                                
                                    <option value="flooding the streets">flooding the streets</option>
                                
                                    <option value="assets of the nation's retail money market mutual funds">assets of the nation's retail money market mutual funds</option>
                                
                                    <option value="investment company institute">investment company institute</option>
                                
                                    <option value="back-to-school season">back-to-school season</option>
                                
                                    <option value="kids'">kids'</option>
                                
                                    <option value="bill gates">bill gates</option>
                                
                                    <option value="miser">miser</option>
                                
                                    <option value="carlyle group">carlyle group</option>
                                
                                    <option value="defense industry">defense industry</option>
                                
                                    <option value="central square in lynn">central square in lynn</option>
                                
                                    <option value="dell">dell</option>
                                
                                    <option value="gary winnick">gary winnick</option>
                                
                                    <option value="gateway artisan block">gateway artisan block</option>
                                
                                    <option value="global crossing">global crossing</option>
                                
                                    <option value="government">government</option>
                                
                                    <option value="kevin b. rollins">kevin b. rollins</option>
                                
                                    <option value="large loss">large loss</option>
                                
                                    <option value="lynn">lynn</option>
                                
                                    <option value="oil">oil</option>
                                
                                    <option value="quality distribution">quality distribution</option>
                                
                                    <option value="russia">russia</option>
                                
                                    <option value="titles of nobility">titles of nobility</option>
                                
                                    <option value="central square, lynn">central square, lynn</option>
                                
                                    <option value="improvements">improvements</option>
                                
                                    <option value="domestic and corporate spending">domestic and corporate spending</option>
                                
                                    <option value="japanese economy">japanese economy</option>
                                
                                    <option value="economic recovery">economic recovery</option>
                                
                                    <option value="eurozone economy">eurozone economy</option>
                                
                                    <option value="google">google</option>
                                
                                    <option value="public offering">public offering</option>
                                
                                    <option value="google inc.">google inc.</option>
                                
                                    <option value="ipo">ipo</option>
                                
                                    <option value="iran's opec governor">iran's opec governor</option>
                                
                                    <option value="new york">new york</option>
                                
                                    <option value="non-opec oil exporters">non-opec oil exporters</option>
                                
                                    <option value="oil prices">oil prices</option>
                                
                                    <option value="opec">opec</option>
                                
                                    <option value="opec president">opec president</option>
                                
                                    <option value="stock market">stock market</option>
                                
                                    <option value="tehran">tehran</option>
                                
                                    <option value="u.s. securities regulators">u.s. securities regulators</option>
                                
                                    <option value="google's bosses">google's bosses</option>
                                
                                    <option value="playboy magazine">playboy magazine</option>
                                
                                    <option value="interest rates">interest rates</option>
                                
                                    <option value="oil costs">oil costs</option>
                                
                                    <option value="shell">shell</option>
                                
                                    <option value="south african central bank">south african central bank</option>
                                
                                    <option value="total">total</option>
                                
                                    <option value="value-focused mutual funds">value-focused mutual funds</option>
                                
                                    <option value="main pipeline in southern iraq">main pipeline in southern iraq</option>
                                
                                    <option value="new claims for jobless benefits">new claims for jobless benefits</option>
                                
                                    <option value="us department of labor">us department of labor</option>
                                
                                    <option value="retail sales">retail sales</option>
                                
                                    <option value="usatoday.com">usatoday.com</option>
                                
                                    <option value="short-sellers">short-sellers</option>
                                
                                    <option value="stocks">stocks</option>
                                
                                    <option value="technology company">technology company</option>
                                
                                    <option value="former employees">former employees</option>
                                
                                    <option value="us economy">us economy</option>
                                
                                    <option value="turned corner">turned corner</option>
                                
                            </select>
                        </div>
                        <div class="col-2 pb-2">
                            <button type="button" class="btn btn-primary btn-block" onclick="neighbourhoodHighlight({nodes: []});">Reset Selection</button>
                        </div>
                    </div>
                </div>
            
            
            <div id="mynetwork" class="card-body"></div>
        </div>

        
        
            <div id="config"></div>
        

        <script type="text/javascript">

              // initialize global variables.
              var edges;
              var nodes;
              var allNodes;
              var allEdges;
              var nodeColors;
              var originalNodes;
              var network;
              var container;
              var options, data;
              var filter = {
                  item : '',
                  property : '',
                  value : []
              };

              
                  new TomSelect("#select-node",{
                      create: false,
                      sortField: {
                          field: "text",
                          direction: "asc"
                      }
                  });
              

              

              // This method is responsible for drawing the graph, returns the drawn network
              function drawGraph() {
                  var container = document.getElementById('mynetwork');

                  

                  // parsing and collecting nodes and edges from the python
                  nodes = new vis.DataSet([{"group": 1, "id": "ability to draw foreign capital", "label": "ability to draw foreign capital", "shape": "dot", "size": 2}, {"group": 1, "id": "growth", "label": "growth", "shape": "dot", "size": 18}, {"group": 1, "id": "us trade deficit", "label": "us trade deficit", "shape": "dot", "size": 18}, {"group": 2, "id": "afp", "label": "afp", "shape": "dot", "size": 2}, {"group": 2, "id": "reuters", "label": "reuters", "shape": "dot", "size": 14}, {"group": 2, "id": "tearaway world oil prices", "label": "tearaway world oil prices", "shape": "dot", "size": 2}, {"group": 3, "id": "ak-47s", "label": "ak-47s", "shape": "dot", "size": 1}, {"group": 3, "id": "flooding the streets", "label": "flooding the streets", "shape": "dot", "size": 1}, {"group": 2, "id": "assets of the nation\u0027s retail money market mutual funds", "label": "assets of the nation\u0027s retail money market mutual funds", "shape": "dot", "size": 2}, {"group": 2, "id": "investment company institute", "label": "investment company institute", "shape": "dot", "size": 2}, {"group": 1, "id": "back-to-school season", "label": "back-to-school season", "shape": "dot", "size": 3}, {"group": 1, "id": "kids\u0027", "label": "kids\u0027", "shape": "dot", "size": 3}, {"group": 4, "id": "bill gates", "label": "bill gates", "shape": "dot", "size": 1}, {"group": 4, "id": "miser", "label": "miser", "shape": "dot", "size": 1}, {"group": 2, "id": "carlyle group", "label": "carlyle group", "shape": "dot", "size": 2}, {"group": 2, "id": "defense industry", "label": "defense industry", "shape": "dot", "size": 2}, {"group": 5, "id": "central square in lynn", "label": "central square in lynn", "shape": "dot", "size": 12}, {"group": 5, "id": "dell", "label": "dell", "shape": "dot", "size": 2}, {"group": 5, "id": "gary winnick", "label": "gary winnick", "shape": "dot", "size": 2}, {"group": 5, "id": "gateway artisan block", "label": "gateway artisan block", "shape": "dot", "size": 1}, {"group": 5, "id": "global crossing", "label": "global crossing", "shape": "dot", "size": 2}, {"group": 5, "id": "government", "label": "government", "shape": "dot", "size": 2}, {"group": 5, "id": "kevin b. rollins", "label": "kevin b. rollins", "shape": "dot", "size": 2}, {"group": 5, "id": "large loss", "label": "large loss", "shape": "dot", "size": 2}, {"group": 5, "id": "lynn", "label": "lynn", "shape": "dot", "size": 1}, {"group": 5, "id": "oil", "label": "oil", "shape": "dot", "size": 2}, {"group": 5, "id": "quality distribution", "label": "quality distribution", "shape": "dot", "size": 2}, {"group": 5, "id": "russia", "label": "russia", "shape": "dot", "size": 2}, {"group": 5, "id": "titles of nobility", "label": "titles of nobility", "shape": "dot", "size": 2}, {"group": 6, "id": "central square, lynn", "label": "central square, lynn", "shape": "dot", "size": 1}, {"group": 6, "id": "improvements", "label": "improvements", "shape": "dot", "size": 1}, {"group": 1, "id": "domestic and corporate spending", "label": "domestic and corporate spending", "shape": "dot", "size": 3}, {"group": 1, "id": "japanese economy", "label": "japanese economy", "shape": "dot", "size": 3}, {"group": 1, "id": "economic recovery", "label": "economic recovery", "shape": "dot", "size": 2}, {"group": 1, "id": "eurozone economy", "label": "eurozone economy", "shape": "dot", "size": 2}, {"group": 1, "id": "google", "label": "google", "shape": "dot", "size": 3}, {"group": 1, "id": "public offering", "label": "public offering", "shape": "dot", "size": 3}, {"group": 8, "id": "google inc.", "label": "google inc.", "shape": "dot", "size": 10}, {"group": 8, "id": "ipo", "label": "ipo", "shape": "dot", "size": 5}, {"group": 8, "id": "iran\u0027s opec governor", "label": "iran\u0027s opec governor", "shape": "dot", "size": 5}, {"group": 8, "id": "new york", "label": "new york", "shape": "dot", "size": 10}, {"group": 8, "id": "non-opec oil exporters", "label": "non-opec oil exporters", "shape": "dot", "size": 6}, {"group": 8, "id": "oil prices", "label": "oil prices", "shape": "dot", "size": 5}, {"group": 8, "id": "opec", "label": "opec", "shape": "dot", "size": 10}, {"group": 8, "id": "opec president", "label": "opec president", "shape": "dot", "size": 6}, {"group": 8, "id": "stock market", "label": "stock market", "shape": "dot", "size": 11}, {"group": 8, "id": "tehran", "label": "tehran", "shape": "dot", "size": 10}, {"group": 8, "id": "u.s. securities regulators", "label": "u.s. securities regulators", "shape": "dot", "size": 5}, {"group": 1, "id": "google\u0027s bosses", "label": "google\u0027s bosses", "shape": "dot", "size": 3}, {"group": 1, "id": "playboy magazine", "label": "playboy magazine", "shape": "dot", "size": 3}, {"group": 1, "id": "interest rates", "label": "interest rates", "shape": "dot", "size": 3}, {"group": 1, "id": "oil costs", "label": "oil costs", "shape": "dot", "size": 2}, {"group": 1, "id": "shell", "label": "shell", "shape": "dot", "size": 3}, {"group": 1, "id": "south african central bank", "label": "south african central bank", "shape": "dot", "size": 3}, {"group": 1, "id": "total", "label": "total", "shape": "dot", "size": 3}, {"group": 1, "id": "value-focused mutual funds", "label": "value-focused mutual funds", "shape": "dot", "size": 2}, {"group": 9, "id": "main pipeline in southern iraq", "label": "main pipeline in southern iraq", "shape": "dot", "size": 1}, {"group": 2, "id": "new claims for jobless benefits", "label": "new claims for jobless benefits", "shape": "dot", "size": 2}, {"group": 2, "id": "us department of labor", "label": "us department of labor", "shape": "dot", "size": 2}, {"group": 2, "id": "retail sales", "label": "retail sales", "shape": "dot", "size": 2}, {"group": 2, "id": "usatoday.com", "label": "usatoday.com", "shape": "dot", "size": 2}, {"group": 2, "id": "short-sellers", "label": "short-sellers", "shape": "dot", "size": 1}, {"group": 2, "id": "stocks", "label": "stocks", "shape": "dot", "size": 1}, {"group": 7, "id": "technology company", "label": "technology company", "shape": "dot", "size": 1}, {"group": 7, "id": "former employees", "label": "former employees", "shape": "dot", "size": 1}, {"group": 10, "id": "us economy", "label": "us economy", "shape": "dot", "size": 1}, {"group": 10, "id": "turned corner", "label": "turned corner", "shape": "dot", "size": 1}]);
                  edges = new vis.DataSet([{"from": "ability to draw foreign capital", "title": "contextual proximity", "to": "growth", "width": 0.5}, {"from": "ability to draw foreign capital", "title": "The growing gap raises questions about its ability to draw foreign capital to fund it.,contextual proximity", "to": "us trade deficit", "width": 1.75}, {"from": "afp", "title": "contextual proximity", "to": "reuters", "width": 1.0}, {"from": "afp", "title": "tearaway world oil prices, toppling records and straining wallets, present a new economic menace barely three months before the US presidential elections according to AFP.", "to": "tearaway world oil prices", "width": 1.0}, {"from": "ak-47s", "title": "Columnist Steve Bailey argued for renewal of the so-called assault weapon ban, claiming that otherwise, \u0027UZIs and AK-47s could again be flooding the streets\u0027 in response to the killings in poor neighborhoods.", "to": "flooding the streets", "width": 1.0}, {"from": "assets of the nation\u0027s retail money market mutual funds", "title": "contextual proximity", "to": "reuters", "width": 1.0}, {"from": "assets of the nation\u0027s retail money market mutual funds", "title": "assets of the nation\u0027s retail money market mutual funds fell by $36.17 billion in the latest week to $849.98 trillion, according to the Investment Company Institute.", "to": "investment company institute", "width": 1.0}, {"from": "back-to-school season", "title": "contextual proximity", "to": "growth", "width": 0.5}, {"from": "back-to-school season", "title": "contextual proximity", "to": "us trade deficit", "width": 0.75}, {"from": "back-to-school season", "title": "The purchasing power of kids is a big part of why the back-to-school season has become such a huge marketing phenomenon.", "to": "kids\u0027", "width": 1.0}, {"from": "bill gates", "title": "At Microsoft\u0027s founding, Bill Gates was a brilliant technologist who thought only the lash inspired the necessary aggressiveness to beat competition. His treatment of underlings with his temper and parceling out praise like Scrooge gave to charity was comparable to Ebenezer Scrooge\u0027s miserly behavior in Charles Dickens\u0027 A Christmas Carol.", "to": "miser", "width": 1.0}, {"from": "carlyle group", "title": "private investment firm Carlyle Group, which has a reputation for making well-timed and occasionally controversial plays, has quietly placed its bets on another part of the market: the defense industry according to Reuters.", "to": "defense industry", "width": 1.0}, {"from": "carlyle group", "title": "contextual proximity", "to": "reuters", "width": 1.0}, {"from": "central square in lynn", "title": "contextual proximity", "to": "dell", "width": 0.5}, {"from": "central square in lynn", "title": "contextual proximity", "to": "gary winnick", "width": 0.5}, {"from": "central square in lynn", "title": "contextual proximity", "to": "gateway artisan block", "width": 0.5}, {"from": "central square in lynn", "title": "contextual proximity", "to": "global crossing", "width": 0.5}, {"from": "central square in lynn", "title": "contextual proximity", "to": "government", "width": 0.5}, {"from": "central square in lynn", "title": "contextual proximity", "to": "kevin b. rollins", "width": 0.5}, {"from": "central square in lynn", "title": "contextual proximity", "to": "large loss", "width": 0.5}, {"from": "central square in lynn", "title": "Central Square in Lynn is a location in the city of Lynn.,contextual proximity", "to": "lynn", "width": 1.5}, {"from": "central square in lynn", "title": "contextual proximity", "to": "oil", "width": 0.5}, {"from": "central square in lynn", "title": "contextual proximity", "to": "quality distribution", "width": 0.5}, {"from": "central square in lynn", "title": "contextual proximity", "to": "russia", "width": 0.5}, {"from": "central square in lynn", "title": "contextual proximity", "to": "titles of nobility", "width": 0.5}, {"from": "central square, lynn", "title": "New sidewalks, curbs, fences, lights, landscaping, and road improvements are planned for Central Square in Lynn, with $830,000 in state grant money given to Lynn last week.", "to": "improvements", "width": 1.0}, {"from": "defense industry", "title": "contextual proximity", "to": "reuters", "width": 1.0}, {"from": "dell", "title": "Kevin B. Rollins is the new chief executive of Dell.", "to": "kevin b. rollins", "width": 1.0}, {"from": "domestic and corporate spending", "title": "contextual proximity", "to": "growth", "width": 0.5}, {"from": "domestic and corporate spending", "title": "contextual proximity", "to": "us trade deficit", "width": 0.75}, {"from": "domestic and corporate spending", "title": "Interest rates are trimmed to 7.5 by the South African central bank, but the lack of warning hits the rand and surprises markets.", "to": "japanese economy", "width": 1.0}, {"from": "economic recovery", "title": "contextual proximity", "to": "growth", "width": 0.5}, {"from": "economic recovery", "title": "The record U.S. trade deficit in June casts fresh doubts on the economy\u0027s recovery.,contextual proximity", "to": "us trade deficit", "width": 1.75}, {"from": "eurozone economy", "title": "contextual proximity", "to": "growth", "width": 0.5}, {"from": "eurozone economy", "title": "contextual proximity", "to": "us trade deficit", "width": 0.75}, {"from": "gary winnick", "title": "Gary Winnick was the former chief of Global Crossing.", "to": "global crossing", "width": 1.0}, {"from": "google", "title": "contextual proximity", "to": "growth", "width": 0.5}, {"from": "google", "title": "The bidding gets underway for Google\u0027s public offering,", "to": "public offering", "width": 1.0}, {"from": "google", "title": "contextual proximity", "to": "us trade deficit", "width": 0.75}, {"from": "google inc.", "title": "contextual proximity", "to": "ipo", "width": 0.5}, {"from": "google inc.", "title": "contextual proximity", "to": "iran\u0027s opec governor", "width": 0.5}, {"from": "google inc.", "title": "contextual proximity", "to": "new york", "width": 1.0}, {"from": "google inc.", "title": "contextual proximity", "to": "non-opec oil exporters", "width": 0.5}, {"from": "google inc.", "title": "contextual proximity", "to": "oil prices", "width": 0.5}, {"from": "google inc.", "title": "contextual proximity", "to": "opec", "width": 1.0}, {"from": "google inc.", "title": "contextual proximity", "to": "opec president", "width": 0.5}, {"from": "google inc.", "title": "contextual proximity", "to": "stock market", "width": 1.0}, {"from": "google inc.", "title": "contextual proximity", "to": "tehran", "width": 1.0}, {"from": "google inc.", "title": "Google sidestepped a bullet from U.S. securities regulators,contextual proximity", "to": "u.s. securities regulators", "width": 1.5}, {"from": "google\u0027s bosses", "title": "contextual proximity", "to": "growth", "width": 0.5}, {"from": "google\u0027s bosses", "title": "contextual proximity", "to": "us trade deficit", "width": 0.75}, {"from": "google\u0027s bosses", "title": "Last-minute worries over an interview with its bosses in Playboy magazine.", "to": "playboy magazine", "width": 1.0}, {"from": "government", "title": "Mr. Stein proposes selling titles of nobility as a unique solution to raise cash for the government and showcase wealth.", "to": "titles of nobility", "width": 1.0}, {"from": "growth", "title": "contextual proximity", "to": "interest rates", "width": 0.5}, {"from": "growth", "title": "contextual proximity", "to": "japanese economy", "width": 0.5}, {"from": "growth", "title": "contextual proximity", "to": "kids\u0027", "width": 0.5}, {"from": "growth", "title": "contextual proximity", "to": "oil costs", "width": 0.5}, {"from": "growth", "title": "contextual proximity", "to": "playboy magazine", "width": 0.5}, {"from": "growth", "title": "contextual proximity", "to": "public offering", "width": 0.5}, {"from": "growth", "title": "contextual proximity", "to": "shell", "width": 0.5}, {"from": "growth", "title": "contextual proximity", "to": "south african central bank", "width": 0.5}, {"from": "growth", "title": "contextual proximity", "to": "total", "width": 0.5}, {"from": "growth", "title": "contextual proximity", "to": "us trade deficit", "width": 1.5}, {"from": "growth", "title": "Investors in value-focused mutual funds have reason to feel a bit smug -- if only because they\u0027ve lost less than the folks who stuck with growth.,contextual proximity", "to": "value-focused mutual funds", "width": 1.5}, {"from": "interest rates", "title": "Interest rates are trimmed to 7.5 by the South African central bank,", "to": "south african central bank", "width": 1.0}, {"from": "interest rates", "title": "contextual proximity", "to": "us trade deficit", "width": 0.75}, {"from": "investment company institute", "title": "contextual proximity", "to": "reuters", "width": 1.0}, {"from": "ipo", "title": "contextual proximity", "to": "new york", "width": 0.5}, {"from": "ipo", "title": "contextual proximity", "to": "opec", "width": 0.5}, {"from": "ipo", "title": "contextual proximity", "to": "stock market", "width": 0.5}, {"from": "ipo", "title": "contextual proximity", "to": "tehran", "width": 0.5}, {"from": "iran\u0027s opec governor", "title": "contextual proximity", "to": "new york", "width": 0.5}, {"from": "iran\u0027s opec governor", "title": "contextual proximity", "to": "opec", "width": 0.5}, {"from": "iran\u0027s opec governor", "title": "contextual proximity", "to": "stock market", "width": 0.5}, {"from": "iran\u0027s opec governor", "title": "contextual proximity", "to": "tehran", "width": 0.5}, {"from": "japanese economy", "title": "contextual proximity", "to": "us trade deficit", "width": 0.75}, {"from": "kids\u0027", "title": "contextual proximity", "to": "us trade deficit", "width": 0.75}, {"from": "large loss", "title": "Quality Distribution reported a large loss for the second quarter.", "to": "quality distribution", "width": 1.0}, {"from": "main pipeline in southern iraq", "title": "authorities have halted oil export flows from the main pipeline in southern Iraq after intelligence showed a rebel militia could strike infrastructure according to Reuters.,contextual proximity", "to": "reuters", "width": 2.0}, {"from": "new claims for jobless benefits", "title": "contextual proximity", "to": "reuters", "width": 1.0}, {"from": "new claims for jobless benefits", "title": "new claims for jobless benefits fell last week, according to the US Department of Labor.", "to": "us department of labor", "width": 1.0}, {"from": "new york", "title": "contextual proximity", "to": "non-opec oil exporters", "width": 0.5}, {"from": "new york", "title": "contextual proximity", "to": "oil prices", "width": 0.5}, {"from": "new york", "title": "contextual proximity", "to": "opec", "width": 1.0}, {"from": "new york", "title": "contextual proximity", "to": "opec president", "width": 0.5}, {"from": "new york", "title": "contextual proximity", "to": "stock market", "width": 1.0}, {"from": "new york", "title": "contextual proximity", "to": "tehran", "width": 1.0}, {"from": "new york", "title": "contextual proximity", "to": "u.s. securities regulators", "width": 0.5}, {"from": "non-opec oil exporters", "title": "contextual proximity", "to": "opec", "width": 0.5}, {"from": "non-opec oil exporters", "title": "contextual proximity", "to": "stock market", "width": 0.5}, {"from": "non-opec oil exporters", "title": "contextual proximity", "to": "tehran", "width": 0.5}, {"from": "non-opec oil exporters", "title": "OPEC President Purnomo Yusgiantoro said on Sunday, \u0027Non-OPEC oil exporters should consider increasing output to cool record crude prices\u0027", "to": "opec president", "width": 1.0}, {"from": "oil", "title": "Russia is again emerging as a superpower due to its abundance of oil.", "to": "russia", "width": 1.0}, {"from": "oil costs", "title": "The surge in imports due to high oil costs is driving up the US trade deficit.,contextual proximity", "to": "us trade deficit", "width": 1.75}, {"from": "oil prices", "title": "contextual proximity", "to": "opec", "width": 0.5}, {"from": "oil prices", "title": "contextual proximity", "to": "stock market", "width": 0.5}, {"from": "oil prices", "title": "Tehran (Reuters) - Soaring crude prices plus worries about the economy and the outlook for earnings are expected to hang over the stock market next week during the depth of the summer doldrums.,contextual proximity", "to": "tehran", "width": 1.5}, {"from": "opec", "title": "contextual proximity", "to": "opec president", "width": 0.5}, {"from": "opec", "title": "contextual proximity", "to": "stock market", "width": 1.0}, {"from": "opec", "title": "Tehran (Reuters) - OPEC can do nothing to douse scorching oil prices when markets are already oversupplied by 2.8 million barrels per day (bpd) of crude, Iran\u0027s OPEC governor said Saturday, warning that prices could fall sharply.,contextual proximity", "to": "tehran", "width": 2.0}, {"from": "opec", "title": "contextual proximity", "to": "u.s. securities regulators", "width": 0.5}, {"from": "opec president", "title": "contextual proximity", "to": "stock market", "width": 0.5}, {"from": "opec president", "title": "contextual proximity", "to": "tehran", "width": 0.5}, {"from": "playboy magazine", "title": "contextual proximity", "to": "us trade deficit", "width": 0.75}, {"from": "public offering", "title": "contextual proximity", "to": "us trade deficit", "width": 0.75}, {"from": "retail sales", "title": "contextual proximity", "to": "reuters", "width": 1.0}, {"from": "retail sales", "title": "retail sales bounced back a bit in July, according to USATODAY.com.", "to": "usatoday.com", "width": 1.0}, {"from": "reuters", "title": "contextual proximity", "to": "short-sellers", "width": 1.0}, {"from": "reuters", "title": "contextual proximity", "to": "stock market", "width": 1.0}, {"from": "reuters", "title": "contextual proximity", "to": "stocks", "width": 1.0}, {"from": "reuters", "title": "contextual proximity", "to": "tearaway world oil prices", "width": 1.0}, {"from": "reuters", "title": "contextual proximity", "to": "us department of labor", "width": 1.0}, {"from": "reuters", "title": "contextual proximity", "to": "usatoday.com", "width": 1.0}, {"from": "shell", "title": "Oil giant Shell could be bracing itself for a takeover attempt, possibly from French rival Total.", "to": "total", "width": 1.0}, {"from": "shell", "title": "contextual proximity", "to": "us trade deficit", "width": 0.75}, {"from": "south african central bank", "title": "contextual proximity", "to": "us trade deficit", "width": 0.75}, {"from": "stock market", "title": "contextual proximity", "to": "tehran", "width": 1.0}, {"from": "stock market", "title": "contextual proximity", "to": "u.s. securities regulators", "width": 0.5}, {"from": "technology company", "title": "A Marlborough-based technology company is suing five former employees, including three senior managers, for allegedly conspiring against their employer while working on opening a competing business.", "to": "former employees", "width": 1.0}, {"from": "tehran", "title": "contextual proximity", "to": "u.s. securities regulators", "width": 0.5}, {"from": "total", "title": "contextual proximity", "to": "us trade deficit", "width": 0.75}, {"from": "us economy", "title": "President Bush has been saying that the US economy has \u0027turned the corner.\u0027 In response, Democratic presidential candidate Senator John F. Kerry quipped that it was more like a U-turn in reference to the poor jobs report this month.", "to": "turned corner", "width": 1.0}, {"from": "us trade deficit", "title": "contextual proximity", "to": "value-focused mutual funds", "width": 0.75}]);

                  nodeColors = {};
                  allNodes = nodes.get({ returnType: "Object" });
                  for (nodeId in allNodes) {
                    nodeColors[nodeId] = allNodes[nodeId].color;
                  }
                  allEdges = edges.get({ returnType: "Object" });
                  // adding nodes and edges to the graph
                  data = {nodes: nodes, edges: edges};

                  var options = {
    "configure": {
        "enabled": true,
        "filter": [
            "physics"
        ]
    },
    "edges": {
        "color": {
            "inherit": true
        },
        "smooth": {
            "enabled": true,
            "type": "dynamic"
        }
    },
    "interaction": {
        "dragNodes": true,
        "hideEdgesOnDrag": false,
        "hideNodesOnDrag": false
    },
    "physics": {
        "enabled": true,
        "forceAtlas2Based": {
            "avoidOverlap": 0,
            "centralGravity": 0.015,
            "damping": 0.4,
            "gravitationalConstant": -31,
            "springConstant": 0.08,
            "springLength": 100
        },
        "solver": "forceAtlas2Based",
        "stabilization": {
            "enabled": true,
            "fit": true,
            "iterations": 1000,
            "onlyDynamicEdges": false,
            "updateInterval": 50
        }
    }
};

                  


                  
                  // if this network requires displaying the configure window,
                  // put it in its div
                  options.configure["container"] = document.getElementById("config");
                  

                  network = new vis.Network(container, data, options);

                  

                  
                    network.on("selectNode", neighbourhoodHighlight);
                  

                  


                  

                  return network;

              }
              drawGraph();
        </script>
    </body>
</html>